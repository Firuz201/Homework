using System;
using Newtonsoft.Json;
namespace ConsoleApp15
{

    internal class Program
    {
        static void Main(string[] args)
        {
            List<Person> list = new List<Person>
            {
                new Person { Id = 1, Name = "A", Age = 23 },
                new Person { Id = 2, Name = "B", Age = 19 }
            };
            string path = Path.Combine("C:", "Users", "student", "Car", "ConsoleApp15", "ConsoleApp15", "index.json");
            using (StreamWriter sw = new StreamWriter(path))
            {
                sw.WriteLine(JsonConvert.SerializeObject(list, Formatting.Indented));
            }

            using (StreamReader sr = new StreamReader(path))
            {
                List<Person> list1 = JsonConvert.DeserializeObject<List<Person>>(sr.ReadToEnd());
                foreach (var i in list1)
                {
                    Console.WriteLine(i.Name);
                }
            }

            //Console.WriteLine(Directory.GetCurrentDirectory());
            //DirectoryInfo directoryInfo = new DirectoryInfo(Directory.GetCurrentDirectory());
            //string pathInfo = $"{directoryInfo.Parent.Parent.Parent}/index.json";
            //File.Create(pathInfo);

        }
    }

    class Person
    {
        public int Id { get; set; }
        public string Name { get; set; }

        public int Age { get; set; }

    }
}
